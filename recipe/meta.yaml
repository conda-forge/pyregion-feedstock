{% set name = "pyregion" %}
{% set version = "2.2.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  fn: {{ name }}-{{ version }}.tar.gz
  url: https://pypi.io/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 5cbdb8017c744d39e36d67ec530dbfafc7ae245aa512185b35645b87f259f850

build:
  number: 0
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  build:
    - python                                 # [build_platform != target_platform]
    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
    - cython                                 # [build_platform != target_platform]
    - numpy                                  # [build_platform != target_platform]
    - {{ compiler('c') }}
  host:
    - python
    - pip
    - setuptools
    - setuptools_scm
    - numpy
    - cython
  run:
    - python
    - pyparsing >=2.0.0
    - astropy >=4.0.0
    - {{ pin_compatible('numpy') }}

test:
  imports:
    - pyregion

about:
  home: https://github.com/astropy/pyregion
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: Python parser for ds9 and ciao region files
  description: |
    pyregion is a python module to parse ds9 region files. It also supports
    ciao region files. Please note that the main emphasis of the package is to
    read in the regions files generated by ds9 itself. It reads most of the
    region files created by ds9. However, it may fail to read some of the
    user-created (or created by other programs) region files, even if they can
    be successfully read by ds9.
  doc_url: https://pyregion.readthedocs.io
  dev_url: https://github.com/astropy/pyregion

extra:
  recipe-maintainers:
    - mwcraig
    - bsipocz
